<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Dual de Motores</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. Variables y Reseteo Básico --- */
        :root {
            --color-primary: #007aff;
            --color-success: #34c759;
            --color-danger: #ff3b30;
            --color-warning: #ff9500;
            --color-background: #f2f2f7;
            --color-surface: #ffffff;
            --color-text: #1d1d1f;
            --color-text-secondary: #6e6e73;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
        }

        *, *::before, *::after {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--color-background);
            color: var(--color-text);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
        }

        /* --- 2. Contenedor Principal y Estado de Conexión --- */
        #main-container {
            width: 100%;
            max-width: 900px;
            text-align: center;
        }

        h1 {
            font-size: clamp(1.5rem, 5vw, 2rem);
            margin-bottom: 1.5rem;
        }

        #status-container {
            margin-bottom: 1.5rem;
        }
        
        #status {
            font-weight: 500;
            padding: 0.5rem 1.25rem;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
            display: inline-block;
        }
        .disconnected { color: var(--color-danger); background-color: rgba(255, 59, 48, 0.1); }
        .connecting { color: var(--color-warning); background-color: rgba(255, 149, 0, 0.1); }
        .connected { color: var(--color-success); background-color: rgba(52, 199, 89, 0.1); }

        /* --- 3. Contenedor de Motores (Diseño Adaptable) --- */
        #motors-container {
            display: flex;
            flex-direction: column; /* Apilado vertical en móviles (por defecto) */
            gap: 1.5rem;
            width: 100%;
            align-items: center;
        }

        .motor-panel {
            background-color: var(--color-surface);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            width: 100%;
            max-width: 400px; /* Ancho máximo por panel */
        }
        
        .motor-panel h2 {
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 1.25rem;
            color: var(--color-text-secondary);
        }

        /* --- 4. Indicador de Motor Animado --- */
        .motor-indicator {
            font-size: clamp(5rem, 20vw, 6rem);
            margin: 1.5rem 0;
            transition: color 0.4s ease;
            transform-origin: center;
        }
        .motor-stopped { color: #c7c7cc; }
        .motor-forward { color: var(--color-success); animation: rotate-forward 1.5s linear infinite; }
        .motor-reverse { color: var(--color-primary); animation: rotate-reverse 1.5s linear infinite; }
        
        @keyframes rotate-forward { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes rotate-reverse { from { transform: rotate(0deg); } to { transform: rotate(-360deg); } }
        
        /* --- 5. Botones de Control --- */
        .controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.75rem;
        }

        .btn {
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            padding: 1rem 0.5rem;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            color: white;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }
        .btn:active { transform: scale(0.96); }

        #btn-connect {
            background-color: var(--color-primary);
            width: 100%;
            max-width: 400px;
            margin-top: 1.5rem;
            font-size: 1.2rem;
        }
        
        .btn-forward { background-color: var(--color-success); }
        .btn-stop { background-color: var(--color-danger); }
        .btn-back { background-color: var(--color-primary); }
        
        /* --- 6. Media Query para pantallas más grandes (Tablets/Desktop) --- */
        @media (min-width: 768px) {
            #motors-container {
                flex-direction: row; /* Paneles lado a lado */
                align-items: stretch;
            }
        }
    </style>
</head>
<body>

    <div id="main-container">
        <h1>Control Dual de Motores</h1>
        <div id="status-container">
            <div id="status" class="disconnected">Desconectado</div>
        </div>

        <div id="motors-container" style="display: none;">
            <div class="motor-panel">
                <h2>Motor 1</h2>
                <div id="motor-1-indicator" class="motor-indicator motor-stopped">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3
